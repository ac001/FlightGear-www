
<!-- Standard Header Begin -->
<html>

<head>
  <title>FlightGear Flight Simulator</title>
  <link rel="stylesheet" type="text/css" href="http://www.flightgear.org/default.css"> 
</head>

<body>
  <div id="top">
    <a href="http://www.flightgear.org/"><img id="titlebar" src="http://www.flightgear.org/images/fglogosm.jpg" alt=""></a>
  </div>

  <table id="global">
    <tbody><tr>
      <td id="menu">
	<!-- Use a replacescript to update the menu -->

<!-- SiteSearch Google -->
<form method="get" action="http://www.google.com/custom" target="_top">
<table border="0" bgcolor="#ffffff" id="page">
<tr><td nowrap="nowrap" valign="top" align="left" height="32">
<a href="http://www.google.com/">
<img src="http://www.google.com/logos/Logo_25wht.gif"
border="0" alt="Google"></img></a>
<br/>
<input type="hidden" name="domains" value="flightgear.org"></input>
<input type="text" name="q" size="20" maxlength="255" value=""></input>
</td></tr>
<tr>
<td nowrap="nowrap">
<table>
<tr>
<td>
<input type="radio" name="sitesearch" value=""></input>
<font size="-1" color="#000000">Web</font>
</td>
<td>
<input type="radio" name="sitesearch" value="flightgear.org" checked="checked"></input>
<font size="-1" color="#000000">flightgear.org</font>
</td>
</tr>
</table>
<input type="submit" name="sa" value="Search"></input>
<input type="hidden" name="client" value="pub-2485404446552133"></input>
<input type="hidden" name="forid" value="1"></input>
<input type="hidden" name="ie" value="ISO-8859-1"></input>
<input type="hidden" name="oe" value="ISO-8859-1"></input>
<input type="hidden" name="safe" value="active"></input>
<input type="hidden" name="cof" value="GALT:#008000;GL:1;DIV:#336699;VLC:663399;AH:center;BGC:FFFFFF;LBGC:336699;ALC:0000FF;LC:0000FF;T:000000;GFNT:0000FF;GIMP:0000FF;FORID:1;"></input>
<input type="hidden" name="hl" value="en"></input>

</td></tr></table>
</form>
<!-- SiteSearch Google -->
	<h3>Main</h3>
	<a href="/index.html">Home</a><br>
	<a href="/introduction.html">Introduction</a><br>
	<a href="/features.html">Features</a><br>
        <a href="/Gallery/">Screenshots</a><br>
	<a href="/Downloads/">Downloads</a><br>
	<a href="http://cdrom.flightgear.org">Purchase FG CD's</a><br>
	<h3>Support</h3>
	<a href="/version.html">Version Change Log</a><br>
	<a href="/hardwarereq.html">Hardware Requirements</a><br>
	<a href="/docs.html">Documentation</a><br>
	<a href="/places.html">Places to Fly</a><br>
	<a href="/mail.html">Lists, Forums, and IRC</a><br>
	<a href="/Docs/FAQ.shtml">FAQ</a><br>
	<h3>Links</h3>
	<a href="/links.html">Related Websites</a><br>
	<a href="/Projects/">Related Projects</a><br>
	<h3>Contribute</h3>
	<a href="/contributing.html">Contributing</a><br>
	<a href="/cvs.html">CVS Resources</a><br>
	<a href="/goals.html">Goals</a><br>
	<a href="/thanks.shtml">Contributors</a><br>
	<a href="/design.html">Design Proposals</a><br>
	<a href="/events.html">Events</a><br>
      </td>
      <td id="page">
<!-- Standard Header End -->
<H1>
  Flight Gear Autopilot:
  Heading Hold Module
</H1>
<P ALIGN=CENTER><STRONG>
    Jeff Goeke-Smith <BR> 
    (<TT>jgoeke@voyager.net</TT>)
</STRONG></P><P>
<P>
<H1>1. Heading Hold</H1>
<P>
The first autopilot system implemented was a heading hold system. The
entire point of the system was to hold a single heading by using the
ailerons only.  Currently the system does not use the rudder for
heading or side slip control.  The system of determining how to
control the ailerons is a fuzzy logic system ( at least according to
the book I borrowed from the local library) .
<P>
The first stage of the autopilot system determines the relative
heading by comparing the current heading to the target heading.  This
step allows me to determine what direction I should turn.
<P>
<P><A NAME="19">&#160;</A><A NAME="figheadinghold">&#160;</A> <IMG WIDTH=530 HEIGHT=213 ALIGN=BOTTOM ALT="figure17" SRC="img1.gif"  > <BR>
<STRONG>Figure 1:</STRONG> Relative heading vs. target roll<BR>
<P>
<P>
The next step determines how far I should be rolled and in what
direction.  By luck, or maybe by design, If I want to move to a
negative relative heading, I need to have a negative roll. And by even
more luck, To roll in a negative direction, I need to add negative
aileron.  Figure <A HREF="HeadingHold.html#figheadinghold">1</A> shows how I determine how far I
should be rolled.  The x-axis represents the relative heading.  The
y-axis represents the Target Roll.  The specific values where the
graph changes slope is determined by a series of variables in the
Autopilot Structure.
<P>
Now that the we know how far the aircraft should be rolled, we now
determine the Relative roll. This being the current roll compared to
the target roll.  Now that we know how far we need to roll, we employ
a near identical copy of the above routine to determine where the
aileron should be by using the x-axis to represent the relative roll
and the y-axis being the aileron setting.  The system then sets the
aileron to that setting and finishes the procedure.
<P>
If anyone who reads this is interested in more information on how I
built this system, feel free to e-mail me at
<TT>jgoeke@voyager.net</TT> or read the code yourself.
<P>
<H1>About this document ... </H1>
<P>
 <STRONG>
  Flight Gear Autopilot: <BR> 
  Heading Hold Module
</STRONG><P>
This document was generated using the <A HREF="http://www-dsed.llnl.gov/files/programs/unix/latex2html/manual/"><STRONG>LaTeX</STRONG>2<TT>HTML</TT></A> translator Version 96.1 (Feb 5, 1996) Copyright &#169; 1993, 1994, 1995, 1996,  <A HREF="http://cbl.leeds.ac.uk/nikos/personal.html">Nikos Drakos</A>, Computer Based Learning Unit, University of Leeds. <P> The command line arguments were: <BR>
<STRONG>latex2html</STRONG> <TT>-split 0 -show_section_numbers HeadingHold.tex</TT>. <P>The translation was initiated by Curtis L. Olson on Thu Oct  1 21:39:49 CDT 1998<BR> <HR>
<P><ADDRESS>
<I>Curtis L. Olson <BR>
Thu Oct  1 21:39:49 CDT 1998</I>
</ADDRESS>

<!-- Standard Footer Begin -->
      </td>
      <td id="googleads" valign="top">
       <!-- insert google add here if we decide to do that sort of thing -->
<script type="text/javascript"><!--
google_ad_client = "pub-2485404446552133";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_channel ="";
google_color_border = "2D5893";
google_color_bg = "99AACC";
google_color_link = "000000";
google_color_url = "000099";
google_color_text = "003366";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
      </td>
     </tr>
    </tbody>
  </table>
  <br>
  <div id="bottom">
    <a href="/">Home</a> | 
    <a href="/Downloads/">Downloads</a> |
    <a href="/Gallery/index.shtml">Screenshots</a> |
    <a href="/docs.html">Documentation</a>
    <br>
    <br>
    Last modified:  8/12/2003 <BR>
    <A HREF="http://www.flightgear.org/~curt/">Curtis L. Olson</A>
    <IMG ALIGN="MIDDLE" SRC="/email-fg.png">
  </div>
</body>

</html>
<!-- Standard Footer End -->
