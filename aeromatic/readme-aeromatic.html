<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
  <title>readme</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="GENERATOR" content="Quanta Plus">
</head>
<body>

<h1>Aero-Matic</h1><br>
Aero-Matic is a web application that uses an HTML interface to collect
data on an airplane, then generates configuration files for use with
the <A href="http://jsbsim.sourceforge.net">JSBSim</A> Flight Dynamics Model.
Aero-Matic tries to strike a balance
between simplicity and accuracy when modeling an airplane.  The generated
configuration files will result in a <i>plausible</i> airplane model, and
is based on only a few data points that should be easily available from books or
internet sources.
<BR><BR>
<h1>How to use Aero-Matic</h1><br>
Lets assume we want to make a model of the MiG-21.  In this case we will need
two configuration files, an <i>aero</i> configuration, and an <i>engine</i>
configuration.  Obviously we won't need a propeller configuration for the MiG-21.
<br><br>
The first step is to open <i>aeromatic.html</i> in a browser.  Step one in 
<i>aeromatic.html</i> is to
define an engine for the MiG-21. From <i>TheEncyclopedia of World Airpower</i>
<sup>1</sup> I find the following information on the engine used by the MiG-21.
Name: Tumansky_R25, type: Turbine, thrust (without afterburning): 10000 lb.,
and afterburning is installed, but water-injection is not.  Note that the name
you chose for your engine should be a suitable file name, so only use appropriate
characters.
<br><br>
When you click on the "generate" button Aero-Matic will send the information to
<i>engine.php</i>, which will do some calculations and send the results back to you.
The results will look like garbage because the configuration file was not meant to
look nice in a browser window.  If you view the document source you will see the
file as it really is.  Save this file with the file name <b>Tumansky_R25.xml</b>,
and place it in the $FGROOT/Engine directory with all the other engines.
<BR><BR>
Use your browser's "back" button to return to <i>aeromatic.html</i>.  Skip over the
propeller form and fill in the aero form.  You must first select a system of units,
either English or metric. You cannot mix units! Now for the airplane data. For the
MiG-21 I have the following data. Name: Mig21, type: Single Engine Fighter, maximum
takeoff weight: 22,000 lb., span: 23.5 feet, length: 51.75 feet, wing area: 247 square
feet, tricycle landing gear (meaning the third wheel is in front of the main wheels),
one engine, engine type: Turbine, engine layout: aft fuselage.  My source doesn't
say whether the MiG-21 had a yaw damper, but since it's a high-performance jet I'll
assume it needs one.
<br><br>
Now click on "generate" and the data will be sent to <i>
aero.php</i>, which will do some calculations and return the configuration file to you.
As with the previous configuration file, it will look like garbage in your browser
window, but will look properly if you view the document source.  Save this file as
<b>Mig21.xml</b>, and place it in a $FGROOT/Aircraft/Mig21 folder.  You will now have
to open the file in a text editor and make a change.  In the Propulsion section of
the aero file you will find a reference to the file name of your engine,
"Mig21_engine".  Edit this name to read "Tumansky_R25".  Your Mig-21 will now be
matched with a correct engine.
<br><br>
If you model a multi-engined airplane you must make the above change for each engine.
If you are modeling a propeller-driven airplane you must also change the thruster
file name to reflect the file name of the propeller configuration file.  This must
be done for each propeller.
<br><br>
Be aware that some browsers can be configured to add HTML tags and make other changes
to files without telling you.  This will prevent Aero-Matic from working!  Also, 
some browsers will reload the current page when displaying the document source.  This
may result in a bad document.  
<br><br>
<h5><sup>1</sup>The Encyclopedia of World Airpower, ed. Bill Gunston, Cresent Books,
New York, 1981</h5>
<br><br>
<h1>What Aero-Matic does</h1><br>
<b>Engine Configuration</b><br>
Engine.php creates a configuration file for the JSBSim engine modules according to
the following table:<br><br>
<center>
<table width="50%" border>
 <tr align="left">
  <th width="50%">Engine Type</th>
  <th width="50%">JSBSim Module</th>
 </tr>
 <tr align="left">
  <td width="50%">Piston</td>
  <td width="50%">FGPiston</td>
 </tr>
 <tr align="left">
  <td width="50%">Turbine</td>
  <td width="50%">FGSimTurbine</td>
 </tr>
 <tr align="left">
  <td width="50%">Turboprop</td>
  <td width="50%">FGSimTurbine</td>
 </tr>
 <tr align="left">
  <td width="50%">Rocket</td>
  <td width="50%">FGRocket</td>
 </tr>
</table><br>
</center>
The user inputs are first converted to English units.  The header is
then printed, and user inputs are echoed as comments.  Now engine.php
prints data specific to the engine type.  The only calculation done for
the piston engine is displacement, which is based on an assumed 0.625 hp per
cubic inch.  All other piston engine values are "typical".
<br><br>
The turbine engine is modeled with an assumed bypass ratio of 1.0 and a TSFC
of 0.8.  Other data needed by the module are filled with "typical" values.
Afterburning and water injection are enabled if so selected.
<br><br>
The turboprop engine is modeled as a turbine with a bypass ratio of 0 and
a TSFC of 0.55.  The maximum power value is converted to a maximum thrust
value using the rough approximation that 1 hp equals 1.67 pounds of thrust.
<br><br>
The rocket engine is Jon Berndt's X-15 engine.
<br><br>
<b>Propeller Configuration</b><br><br>
Prop.php first converts user input to English units, then echoes the input
as comments.
The propeller is modeled by first estimating the total "linear blade inches",
i.e. sum of all blade lengths, needed to absorb the engine's power.  I use 5.3
times the square root of the horsepower, a formula based only on curve-fitting
a sample of engine/prop combinations.  No science here.  The number of blades
is estimated using the following chart:<br>
<center>
<table width="50%" border>
 <tr align="center">
  <th width="50%">Engine Horsepower</th>
  <th width="50%">No. of Blades</th>
 </tr>
 <tr align="center">
  <td width="50%">&lt; 400</td>
  <td width="50%">2</td>
 </tr>
 <tr align="center">
  <td width="50%">400 - &lt; 1400</td>
  <td width="50%">3</td>
 </tr>
 <tr align="center">
  <td width="50%">1400+</td>
  <td width="50%">4</td>
 </tr>
</table><br>
</center>
The mass of each blade is estimated to be 0.9317 slugs per foot.  The rest of
the values are "typical".
<br><br>
<b>Aero Configuration</b><br><br>
Aero.php first converts user input to English units.  The first calculation
is to estimate wing loading at maximum weight based on the aircraft type as
per this chart:<br><br>
<center>
<table width="80%" border>
 <tr align="center">
  <th width="50%">Aircraft Type</th>
  <th width="50%">Wing Loading (psf)</th>
 </tr>
 <tr align="center">
  <td width="50%">Glider</td>
  <td width="50%">7</td>
 </tr>
 <tr align="center">
  <td width="50%">Light Single</td>
  <td width="50%">14</td>
 </tr>
 <tr align="center">
  <td width="50%">Light Twin</td>
  <td width="50%">29</td>
 </tr>
 <tr align="center">
  <td width="50%">WWII Fighter</td>
  <td width="50%">45</td>
 </tr>
 <tr align="center">
  <td width="50%">Single Engine Transonic/Supersonic Fighter</td>
  <td width="50%">95</td>
 </tr>
 <tr align="center">
  <td width="50%">Two Engine Transonic/Supersonic Fighter</td>
  <td width="50%">100</td>
 </tr>
 <tr align="center">
  <td width="50%">Two Engine Transonic Transport</td>
  <td width="50%">110</td>
 </tr>
 <tr align="center">
  <td width="50%">Three Engine Transonic Transport</td>
  <td width="50%">110</td>
 </tr>
 <tr align="center">
  <td width="50%">Four+ Engine Transonic Transport</td>
  <td width="50%">110</td>
 </tr>
</table><br>
</center><br><br>
If the user did not supply a wing area, then the wing loading and
maximum weight are used to estimate one.  If the user <i>does</i>
supply a wing area, then the actual wing loading is calculated and
is used in lieu of the charted value.<br><br>
Once wing area has been established, it is divided by wing span to
give the mean aerodynamic chord.  The areas of the tail surfaces are
estimated by multiplying wing area by a factor depending on aircraft
type.  The moment arms of the tail surfaces are similarly estimated
from the aircraft length and type.<br><br>
The airplane's moments of inertia about three axes are estimated using
Roskam's formulae and constants for various airplane types. Presently I'm
increasing the moments by 50% to make up for a lack of feel in the
control stick.<br><br>
The aircaft's ZFW, zero-fuel weight, is estimated by multplying the maximum 
weight by a factor according to aircraft type.  This value is named "empty
weight" in the JSBSim configuration, but ZFW should be used.<br><br>
Next the aircraft's center of gravity, CG, location is estimated.  The
longitudinal (x axis) location was already assumed when the horizontal
stablizer moment arm was estimated, so this distance is used to get the
longitudinal location of the CG from the nose, in inches.  The CG is located
on the intersection of the x and y axes, under the assumtion that the 
aircraft is laterally symetric, so the y location is zero.  I've put the
vertical (z) location of the CG a bit below centerline.  The location of
the aerodynamic center is, for simplicity, the same as the CG, except it 
is a bit above the CG to help with stability.<br><br>
The location of the pilot's eyepoint is then estimated based on aircraft
type.<br><br>
The landing gear location is based on the CG location.  Tricycle main wheels
are placed slightly behind the CG, and taildragger main wheels slightly ahead.
The lateral spread of the main gear is a function of wing span and airplane 
type.  The z-position of the main gear is based on the airplane's length. 
This is the distance in inches from the centerline to the bottom of the tire
when the gear is extended and hanging freely.  Note that the glider presents
a problem in that JSBSim presently supports three ground contact points,
whereas a glider needs five (main wheel, nose skid, tail wheel, and two
wing tip skids).  The locations of the nose or tail wheels is estimated from
the airplane length and the location of the main gear.<br><br>
The engines and thrusters are positioned according to the user-selected engine
layout, and some assumptions on engine spacing and location.  There are N+1 
fuel tanks for an N-engined airplane.  All fuel tanks are located at the aircraft 
center of gravity and contain 500 pounds of fuel.<br><br>
The FCS, flight control system, is the same for every airplane, except for the
yaw damper, which is only added if desired by the user.<br><br>
The lift force is based on a lift-vs-alpha curve made from four points, using
the assumed CL_0, CL_alpha and CL_max for the aircraft type.  Additional lift
due to flaps is estimated based on aircraft type.  Some types will have a lift
decrement due to speedbrakes (or spoilers).  All types have a lift contribution
due to elevator deflection, based on aircraft type.<br><br>
The drag force consists of CD0 (drag at zero-lift), CDi (induced drag), CDmach
(drag due to compressibility), CDflap, CDgear, CDsb (speedbrakes), CDbeta (drag
due to side slip), and CDde (drag due to elevator deflection).<br><br>
More to come. Under construction ... 


<br><br><hr>
David Culp, 30 June 2003, (davidculp2 at comcast.net)<br>
update: 06 Aug 2003


</body>
</html>
