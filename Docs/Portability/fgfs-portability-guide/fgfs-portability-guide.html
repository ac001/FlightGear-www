<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!--Converted with LaTeX2HTML 96.1 (Feb 5, 1996) by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds -->
<HTML>
<HEAD>
<TITLE>FlightGear Flight Simulator Portability Guide</TITLE>
<META NAME="description" CONTENT="FlightGear Flight Simulator Portability Guide">
<META NAME="keywords" CONTENT="fgfs-portability-guide">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<LINK REL=STYLESHEET HREF="fgfs-portability-guide.css">
</HEAD>
<BODY LANG="EN">
 
<P>

<P>
<H1 ALIGN=CENTER><em>FlightGear</em> Flight Simulator<BR> 
Portability Guide</H1>
<P ALIGN=CENTER><STRONG>Bernie Bright (bbright@c031.aone.net.au)</STRONG></P><P>
<P ALIGN=CENTER><STRONG>28 November 1998</STRONG></P><P>
<P>
FlightGear is a multi-platform general aviation flight simulator. It is an
open development project in which anyone with network access and a C++ compiler
can contribute patches or new features.<BR>
<P>
<H1><A NAME="SECTION00010000000000000000">1 Introduction</A></H1>
<P>
The file <em>Include/compiler.h</em> attempts to capture the differences between
C++ compiler and STL implementations through the use of ``feature test macros''.
The file is divided into two parts. The first part contains a section for each
compiler, consisting of manifest constants specifying the features supported
or absent from the particular compiler/STL combination. The second part uses
the feature test macros to supply any missing features.
<P>
<H2><A NAME="SECTION00011000000000000000">1.1 Supported compilers (more to come)</A></H2>
<P>
gcc 2.7.x<BR> 
gcc 2.8.x<BR> 
egcs 1.x<BR> 
Inprise (Borland) C++ 5.02<BR> 
Inprise (Borland) C++Builder 1 (5.20)
<P>
<H2><A NAME="SECTION00012000000000000000">1.2 Features Tests</A></H2>
<P>
<H3><A NAME="SECTION00012100000000000000">1.2.1 STL</A></H3>
<P>
<DL ><DT><STRONG>FG_NEED_AUTO_PTR</STRONG>
<DD>Some STL implementations don't supply an <tt>auto_ptr&lt;&gt;</tt>
class template. Define this to provide one.
<DT><STRONG>FG_NO_DEFAULT_TEMPLATE_ARGS</STRONG>
<DD>Define this if the compiler doesn't support
default arguments in template declarations. <em>(example)</em>
<DT><STRONG>FG_INCOMPLETE_FUNCTIONAL</STRONG>
<DD>Some STL implementations don't have <tt>mem_fun_ref()</tt>.
Define this to provide one. 
<DT><STRONG>FG_NO_ARROW_OPERATOR</STRONG>
<DD>Define this if iterators don't support <tt>operator-&gt;()</tt>.
<em>(example)</em>
<DT><STRONG>FG_EXPLICIT_FUNCTION_TMPL_ARGS</STRONG>
<DD>&nbsp;
<DT><STRONG>FG_MEMBER_TEMPLATES</STRONG>
<DD>&nbsp;
<P>
 </DL><H3><A NAME="SECTION00012200000000000000">1.2.2 Compiler</A></H3>
<P>
<DL ><DT><STRONG>FG_NAMESPACES</STRONG>
<DD>Define if compiler supports namespaces.
<DT><STRONG>FG_HAVE_STD</STRONG>
<DD>Define if std:: namespace supported.
<DT><STRONG>FG_HAVE_STD_INCLUDES</STRONG>
<DD>Define if headers should be included as <tt>&lt;iostream&gt;</tt>
instead of <tt>&lt;iostream</tt>.h&gt;. Also implies that all ISO C++ standard include
files are present.
<DT><STRONG>FG_HAVE_STREAMBUF</STRONG>
<DD>Define if <tt>&lt;streambuf&gt;</tt> or <tt>&lt;streambuf</tt>.h&gt;
are present.
<DT><STRONG>FG_CLASS_PARTIAL_SPECIALIZATION</STRONG>
<DD>&nbsp;
<DT><STRONG>FG_NEED_EXPLICIT</STRONG>
<DD>Define if the compiler doesn't support the <tt><b>explicit</b></tt>
keyword.
<DT><STRONG>FG_NEED_TYPENAME</STRONG>
<DD>Define if the compiler doesn't support the <tt><b>typename</b></tt>
keyword.
<DT><STRONG>FG_NEED_MUTABLE</STRONG>
<DD>Define if the compiler doesn't support the <tt><b>mutable</b></tt>
keyword.
<DT><STRONG>FG_NEED_BOOL</STRONG>
<DD>Define if the compiler doesn't have the <tt><b>bool</b></tt>
type.
<P>
 </DL><H3><A NAME="SECTION00012300000000000000">1.2.3 Include Files</A></H3>
<P>
This section deals with header file naming conventions. Some systems truncate
filenames, 8.3 being common, other systems use old or non-standard names for
some header files. We deal with the simple cases by defining macros that expand
to the appropriate filename.
<P>
<DL ><DT><STRONG>STD_ALGORITHM</STRONG>
<DD>=&gt; &lt;algorithm&gt;, ``algorithm''
<DT><STRONG>STD_FUNCTIONAL</STRONG>
<DD>=&gt; &lt;functional&gt;, ``functional''
<DT><STRONG>STD_IOMANIP</STRONG>
<DD>=&gt; &lt;iomanip&gt;, &lt;iomanip.h&gt;
<DT><STRONG>STD_IOSTREAM</STRONG>
<DD>=&gt; &lt;iostream&gt;, &lt;iostream.h&gt;, &lt;iostreams.h&gt;
<DT><STRONG>STD_STDEXCEPT</STRONG>
<DD>=&gt; &lt;stdexcept&gt; (ignore this, FlightGear doesn't use exceptions)
<DT><STRONG>STD_STRING</STRONG>
<DD>=&gt; &lt;string&gt;
<DT><STRONG>STD_STRSTREAM</STRONG>
<DD>=&gt; &lt;strstream&gt;, &lt;strstream.h&gt;
<P>
 </DL>
In use, instead of writing #include &lt;iostream&gt; you write #include STD_IOSTREAM.<BR> 
 <BR> 
The situation becomes complicated with missing header files. &lt;streambuf&gt; is
a good example. In this case we must rely on FG_HAVE_STD_INCLUDES and FG_HAVE_STREAMBUF.<BR> 
 <em></em><BR> 
<em>TODO</em>
<P>
<H2><A NAME="SECTION00013000000000000000">1.3 and the rest</A></H2>
<P>
<H3><A NAME="SECTION00013100000000000000">1.3.1 Namespace Issues</A></H3>
<P>
<DL ><DT><STRONG>FG_USING_STD(X)</STRONG>
<DD>&nbsp;
<DT><STRONG>FG_NAMESPACE(X)</STRONG>
<DD>&nbsp;
<DT><STRONG>FG_NAMESPACE_END</STRONG>
<DD>&nbsp;
<DT><STRONG>FG_USING_NAMESPACE(X)</STRONG>
<DD>&nbsp;
<P>
 </DL><H3><A NAME="SECTION00013200000000000000">1.3.2 Templates</A></H3>
<P>
<DL ><DT><STRONG>FG_NULL_TMPL_ARGS</STRONG>
<DD>&nbsp;
<DT><STRONG>FG_TEMPLATE_NULL</STRONG>
<DD>&nbsp;
<P>
 </DL> <P><A NAME="SECTIONREF"><H2>References</H2></A><P>
<DL COMPACT>
<DT><A NAME="1"><STRONG>1</STRONG></A><DD>Stroustrup, Bjarne, <em>The C++ Programming Programming Language</em>, 3rd edition,
June 1997, ISBN 0-201-88954-4
<DT><A NAME="2"><STRONG>2</STRONG></A><DD>SGI Standard Template Library (STL) release 3.11
</DL><H1><A NAME="SECTION00030000000000000000">  About this document ... </A></H1>
<P>
 <STRONG><em>FlightGear</em> Flight Simulator<BR> 
Portability Guide</STRONG><P>
This document was generated using the <A HREF="http://www-dsed.llnl.gov/files/programs/unix/latex2html/manual/"><STRONG>LaTeX</STRONG>2<tt>HTML</tt></A> translator Version 96.1 (Feb 5, 1996) Copyright &#169; 1993, 1994, 1995, 1996,  <A HREF="http://cbl.leeds.ac.uk/nikos/personal.html">Nikos Drakos</A>, Computer Based Learning Unit, University of Leeds. <P> The command line arguments were: <BR>
<STRONG>latex2html</STRONG> <tt>-show_section_numbers -split 0 fgfs-portability-guide</tt>. <P>The translation was initiated by Curtis L. Olson on Mon Dec  7 15:43:47 CST 1998<BR> <HR>
<P><ADDRESS>
<I>Curtis L. Olson <BR>
Mon Dec  7 15:43:47 CST 1998</I>
</ADDRESS>
</BODY>
</HTML>
